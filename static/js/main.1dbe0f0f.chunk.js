(this["webpackJsonppdf-helper"]=this["webpackJsonppdf-helper"]||[]).push([[0],{50:function(e,t,a){e.exports=a.p+"static/media/ramka.3144896e.png"},70:function(e,t,a){e.exports=a(92)},75:function(e,t,a){},91:function(e,t,a){},92:function(e,t,a){"use strict";a.r(t);var n=a(3),r=a.n(n),c=a(49),u=a.n(c),l=(a(75),a(38)),s=a(7),o=a.n(s),i=a(15),m=a(10),p=a(50),f=a.n(p),d=a(51),b=a(12),h=function(e){var t=new Blob([e.bytes],{type:"application/pdf"}),a=URL.createObjectURL(t);return r.a.createElement("iframe",{src:a})};var g=function(){var e,t=Object(n.useState)(""),a=Object(m.a)(t,2),c=a[0],u=a[1],s=Object(n.useState)(new Date),p=Object(m.a)(s,2),g=p[0],v=p[1],E=Object(n.useState)("P.1425.2020."),j=Object(m.a)(E,2),O=j[0],w=j[1],x=Object(n.useState)(.7),y=Object(m.a)(x,2),k=y[0],P=y[1],N=Object(n.useState)(!1),S=Object(m.a)(N,2),D=(S[0],S[1]),C=Object(n.useState)(20),A=Object(m.a)(C,2),F=A[0],R=A[1],B=Object(n.useState)(20),H=Object(m.a)(B,2),z=H[0],V=H[1],U=Object(n.useState)(null),W=Object(m.a)(U,2),Y=(W[0],W[1]),L=Object(n.useState)(null),M=Object(m.a)(L,2),I=M[0],J=M[1],T=Object(n.useState)(null),$=Object(m.a)(T,2),q=$[0],G=$[1],K=Object(n.useState)(0),Q=Object(m.a)(K,2),X=Q[0],Z=Q[1];Object(n.useEffect)((function(){ee(),c&&te()}),[O,g,X]),Object(n.useEffect)((function(){c&&te()}),[F,z,k]);var _=function(t){var a=e.result;console.log(a),u(a)},ee=function(){var e=Object(i.a)(o.a.mark((function e(){var t,a,n,r,c,u,l,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(f.a).then((function(e){return e.arrayBuffer()}));case 2:return t=e.sent,e.next=5,b.PDFDocument.create();case 5:return a=e.sent,e.next=8,a.embedPng(t);case 8:return n=e.sent,a.addPage([n.width,n.height]),r=n.scale(1),e.next=13,a.embedFont(b.StandardFonts.HelveticaBold);case 13:return c=e.sent,u=a.getPages(),(l=u[0]).drawImage(n,{x:0,y:0,width:r.width,height:r.height}),l.drawText(g.toLocaleDateString(),{x:200,y:100,size:10,font:c,color:Object(b.rgb)(.95,.1,.1)}),l.drawText(O,{x:200,y:125,size:12,font:c,color:Object(b.rgb)(.95,.1,.1)}),l.setRotation(Object(b.degrees)(X)),e.next=22,a.save();case 22:return s=e.sent,G(s),e.abrupt("return",a);case 25:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function te(){return ae.apply(this,arguments)}function ae(){return(ae=Object(i.a)(o.a.mark((function e(){var t,a,n,r,u,s,i,p,f,d,h,g,v,E,j;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ee();case 2:return t=e.sent,e.next=5,b.PDFDocument.load(c);case 5:return a=e.sent,e.next=8,b.PDFDocument.create();case 8:return n=e.sent,e.next=11,n.copyPages(t,[0]);case 11:return r=e.sent,u=Object(m.a)(r,1),s=u[0],e.next=16,n.copyPages(a,[0]);case 16:return i=e.sent,p=Object(m.a)(i,1),f=p[0],e.next=21,n.embedPage(s);case 21:return d=e.sent,e.next=24,n.embedPage(f);case 24:return h=e.sent,g=d.scale(k),v=h.scale(1),(E=n.addPage([v.width,v.height])).drawPage(d,Object(l.a)({},g,{x:E.getWidth()-g.width-F,y:E.getHeight()-g.height-z,rotate:Object(b.degrees)(-X)})),E.drawPage(h,Object(l.a)({},v,{x:0,y:0})),e.next=32,n.save();case 32:j=e.sent,Y(j),J(j),D(!0);case 36:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"},c&&r.a.createElement("button",{type:"submit",onClick:Object(i.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))},"RUN"),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"column"},r.a.createElement("div",null,r.a.createElement("label",null,"plik pdf: "),r.a.createElement("input",{type:"file",onChange:function(t){return a=t.target.files[0],(e=new FileReader).onloadend=_,e.readAsArrayBuffer(a),void console.log(e,e.result,c);var a},accept:".pdf",multiple:!0})),r.a.createElement("div",null,r.a.createElement("label",null,"skala czerownej ramki: "),r.a.createElement("input",{type:"number",defaultValue:k,onChange:function(e){return P(Number(e.target.value))}})),r.a.createElement("div",null,r.a.createElement("label",null,"x: "),r.a.createElement("input",{type:"number",defaultValue:F,onChange:function(){var e=Object(i.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",R(Number(t.target.value)));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})),r.a.createElement("div",null,r.a.createElement("label",null,"y: "),r.a.createElement("input",{type:"number",defaultValue:z,onChange:function(e){return V(Number(e.target.value))}}))),r.a.createElement("div",{className:"column"},r.a.createElement("div",null,r.a.createElement("button",{onClick:function(){return Z(X<360?X+90:90)}},"Rotacja")),r.a.createElement("div",null,r.a.createElement("label",null,"numer roboty: "),r.a.createElement("input",{type:"text",defaultValue:O,onChange:function(e){return w(e.target.value)}})),r.a.createElement("div",null,r.a.createElement("label",null,"data: "),r.a.createElement("input",{type:"date",defaultValue:d(g).format("YYYY-MM-DD"),onChange:function(e){!function(e){var t=new Date(e);v(t)}(e.target.value.toString())}})))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"column-input"},I&&r.a.createElement(h,{bytes:I})),r.a.createElement("div",{className:"column-input"},r.a.createElement(h,{bytes:q})))))};function v(e,t){return E.apply(this,arguments)}function E(){return(E=Object(i.a)(o.a.mark((function e(t,a){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:if(!(n<t.length)){e.next=7;break}return e.next=4,a(t[n],n,t);case 4:n++,e.next=1;break;case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var j=function(){var e=Object(n.useState)([]),t=Object(m.a)(e,2),a=t[0],c=t[1],u=Object(n.useState)([]),l=Object(m.a)(u,2),s=l[0],p=l[1],f=[],d=[],g=function(e){var t=e.target.result;f.push(t),f.length===d.length&&c(f)},E=function(){var e=Object(i.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("bytes",a),e.next=3,b.PDFDocument.create();case 3:return t=e.sent,e.next=6,v(a,function(){var e=Object(i.a)(o.a.mark((function e(a){var n,r,c,u,l,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.PDFDocument.load(a);case 2:return n=e.sent,e.next=5,t.copyPages(n,[0]);case 5:return r=e.sent,c=Object(m.a)(r,1),u=c[0],e.next=10,t.embedPage(u);case 10:l=e.sent,(s=t.addPage([l.width,l.height])).drawPage(l,{height:l.height,width:l.width,x:1,y:1}),s.getWidth()>s.getHeight()&&s.setRotation(Object(b.degrees)(90));case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 6:return e.next=8,t.save();case 8:n=e.sent,p(n);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"},a.length>0&&r.a.createElement("button",{type:"submit",onClick:Object(i.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))},"RUN"),r.a.createElement("div",{className:"row"},s.length>0&&r.a.createElement(h,{bytes:s}),r.a.createElement("div",{className:"column"},r.a.createElement("div",null,r.a.createElement("label",null," plik pdf: "),r.a.createElement("input",{type:"file",onChange:function(e){return function(e){var t=Array.from(e);d=Array.from(t),t.forEach((function(e){var t=new FileReader;t.onload=g,t.readAsArrayBuffer(e)}))}(e.target.files)},accept:".pdf",multiple:!0})),a.map((function(e,t){return r.a.createElement(h,{key:t,bytes:e})}))))))},O=a(35),w=a(23),x=function(){var e=Object(w.f)();return r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{onClick:function(){return e.push("/pdfHelper/")}},"Dodaj piecz\u0105tke"),r.a.createElement("button",{onClick:function(){return e.push("/pdfHelper/merge")}},"po\u0142\u0105cz pliki"))};a(91);var y=function(){return r.a.createElement(O.a,null,r.a.createElement(x,null),r.a.createElement(w.c,null,r.a.createElement(w.a,{path:"/pdfHelper/",exact:!0,component:g}),r.a.createElement(w.a,{path:"/pdfHelper/merge",exact:!0,component:j})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));u.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(y,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[70,1,2]]]);
//# sourceMappingURL=main.1dbe0f0f.chunk.js.map